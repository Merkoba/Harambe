{% extends "base.html" %}

{% block head %}
<title>{{file.title or file.original or file.name or 'Post'}}</title>

<style>
    :root {
        --background_color: {{background_color}};
        --accent_color: {{accent_color}};
        --font_color: {{font_color}};
        --text_color: {{font_color}};
        --link_color: {{link_color}};
        --font_family: {{font_family}};
    }
</style>

<link rel="stylesheet" href="/static/css/post.css">

<script>
    const vars = {}
    vars.name = `{{file.name}}`
    vars.full = `{{file.full}}`
    vars.date = {{file.date}}
    vars.title = `{{file.title}}`
    vars.original = `{{file.original}}`
</script>

<script src="/static/js/post.js"></script>
{% endblock %}

{% block body %}
<div id="main">
    <!-- Top -->
    <div id="top">
        {% if owned %}
        <div id="buttons">
            <div id="edit" class="button">Edit</div><div class="sep">|</div><div id="delete" class="button">Delete</div>
        </div>
        {% endif %}

        {% if file.title or file.original %}
        <div id="title">{{file.title or file.original}}</div>
        {% endif %}
    </div>

    <hr>

    <!-- File -->
    <div>
        <span class="title">File:</span><a class="link" href="/{{file_path}}/{{file.name}}/{{file.original_full}}">{{file.original_full or file.full}}</a><span class="sep">|</span>{{file.size_str}}
    </div>

    <!-- Date -->
    <div>
        <span class="title">Date:</span>{{file.date_1}}<span class="sep">|</span>{{file.date_2}}<span class="sep">|</span><span id="ago">{{file.ago}}</span>
    </div>

    <!-- Uploader -->
    {% if file.uploader %}
    <div>
        <span class="title">Uploader:</span>{{file.uploader}}
    </div>
    {% endif %}

    <!-- Views -->
    <div>
        <span class="title">Views:</span>{{file.views}}<span class="sep">|</span><a href="/" class="button">Return</a>
    </div>

    {% if file.embed_image %}
    <div>
        <a href="/{{file_path}}/{{file.name}}"><img id="image" src="/{{file_path}}/{{file.name}}"></a>
    </div>
    {% endif %}

    {% if file.embed_video or file.embed_audio %}
    <div>
        <video id="video" src="/{{file_path}}/{{file.name}}" controls></video>
    </div>
    {% endif %}
</div>
{% endblock %}