{% extends "base.html" %}

{% block head %}
<title>{{main_title}}</title>

<style>
    :root {
        --background_color: {{background_color}};
        --accent_color: {{accent_color}};
        --font_color: {{font_color}};
        --text_color: {{font_color}};
        --link_color: {{link_color}};
        --font_family: {{font_family}};
    }
</style>

<link rel="stylesheet" href="static/css/index.css">

<script>
    const max_size = {{max_size}}
</script>

<script src="static/js/index.js"></script>
{% endblock %}

{% block body %}
<div id="main">
    {% if show_image %}
    <img id="image" src="static/img/{{image_name}}" title="{{image_tooltip}}">
    {% endif %}

    <form id="form" action="/" method="post" enctype="multipart/form-data" onsubmit="return validate()">
        <div id="picker_container">
            <div id="info">
                {% if show_max_file_size %}
                <div id="file_size">Max size: {{max_file_size}} mb</div>
                {% endif %}

                {% for link in links %}
                <a href="{{link.url}}" target="{{link.target}}">{{link.name}}</a>
                {% endfor %}
            </div>

            <div id="picker">
                <input id="file" type="file" name="file" required max-file-size="{{max_file_size}}MB">
            </div>
        </div>

        {% if captcha %}
        <div id="captcha">
            {{captcha_html(captcha)|safe}}
        </div>
        {% endif %}

        {% if require_key %}
        <div id="bottom">
            <input id="key" type="text" name="key" placeholder="Enter the key" required>
            <button type="submit" name="submit">Upload</button>
        </div>
        {% else %}
        <button type="submit" name="submit">Upload</button>
        {% endif %}
    </form>
</div>
{% endblock %}