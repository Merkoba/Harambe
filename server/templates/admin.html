{% extends "base.html" %}

{% block head %}
<title>Admin</title>
<link rel="stylesheet" href="/static/css/admin.css">

<script>
    const password = `{{ password }}`
</script>

<script src="/static/js/admin.js"></script>
{% endblock %}

{% block body %}
<div id="top">
    <div class="action_button" id="delete_selected">Delete Selected</div>
    <div>|</div>
    <div class="action_button" id="delete_all">Delete All</div>
    <div>|</div>
    <div>Total: {{ total }}</div>
    <div>|</div>
    <div>Page {{ page }}</div>
    {% if page > 1 %}
    <div>|</div>
    <a class="linkbutton" href="/admin/{{ password }}/{{ page - 1}}">Prev</a>
    {% endif %}
    {% if next_page %}
    <div>|</div>
    <a class="linkbutton" href="/admin/{{ password }}/{{ page + 1}}">Next</a>
    {% endif %}
</div>

<div id="links">
    {% for file in files %}
    <div class="link" data-name="{{ file.name }}">
        <input class="select_checkbox" type="checkbox" data-name="{{ file.name }}">
        <a href="/file/{{ file.name }}">{{ file.name }}</a>
        <span>({{ file.size }} mb)</span>
        <span>({{ file.ago }})</span>
        <span class="delete action_button" data-name="{{ file.name }}">Delete</span>
    </div>
    {% endfor %}
</div>
{% endblock %}